/* =============================== */
/* Style global et variables       */
/* =============================== */
:root {
  /* Thème Clair (par défaut) */
  --background-color: #fff;
  --text-color: #333;
  --header-bg-color: #333;
  --header-text-color: #f0f0f0;
  --card-bg-color: #fff;
  --card-border-color: #eee;
  --input-bg-color: #fff;
  --input-border-color: #ddd;
  --accent-color: #d1a3a4;
  --secondary-color: #333;
  --btn-main-text: #fff;
  --btn-secondary-text: #333;
}

html.dark-mode {
  /* Thème Sombre */
  --background-color: #1a1a1a;
  --text-color: #f0f0f0;
  --header-bg-color: #111;
  --header-text-color: #f0f0f0;
  --card-bg-color: #2a2a2a;
  --card-border-color: #444;
  --input-bg-color: #333;
  --input-border-color: #555;
  --accent-color: #d1a3a4;
  --secondary-color: #f0f0f0;
  --btn-main-text: #1a1a1a;
  --btn-secondary-text: #f0f0f0;
}

/* =============================== */
/* Reset et Comportements Globaux  */
/* =============================== */
html { box-sizing: border-box; }
*, *:before, *:after { box-sizing: inherit; }
a, button, input, textarea, select, .like-btn, .thumbnail-images img { -webkit-tap-highlight-color: transparent; outline: none; }
body { font-family: 'Poppins', sans-serif; margin: 0; background-color: var(--background-color); color: var(--text-color); display: flex; flex-direction: column; min-height: 100vh; transition: background-color 0.3s, color 0.3s; }
main { flex-grow: 1; }

/* =============================== */
/* Header et Navigation            */
/* =============================== */
header {
  background-color: var(--header-bg-color);
  padding: 1rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  flex-wrap: wrap;
  gap: 1rem;
}

.logo { font-size: 1.5rem; font-weight: bold; text-decoration: none; color: var(--header-text-color); }
.header-right { display: flex; align-items: center; gap: 1.5rem; }
nav { margin: 0; }
nav ul { list-style: none; margin: 0; padding: 0; display: flex; gap: 1.5rem; }
nav a { text-decoration: none; color: var(--header-text-color); font-weight: 500; transition: color 0.3s; }
nav a:hover, nav a.active { color: var(--accent-color); }

.theme-toggle-btn { background: none; border: none; cursor: pointer; color: var(--header-text-color); padding: 0.5rem; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s; }
.theme-toggle-btn:hover { background-color: rgba(255, 255, 255, 0.1); }
#sun-icon { display: none; }

/* =============================== */
/* Bannière page d'accueil         */
/* =============================== */
.banner { background-image: url('https://via.placeholder.com/1200x400.png/f5e6e8/333333?text=Bienvenue+chez+Sandy%27Shop'); background-size: cover; background-position: center; height: 400px; display: flex; justify-content: center; align-items: center; text-align: center; color: white; }
.banner-content { background-color: rgba(0, 0, 0, 0.4); padding: 2rem; border-radius: 5px; }
.banner h1 { font-size: 3rem; margin: 0; }

/* CORRECTION : Amélioration du bouton de la bannière */
.banner .btn {
    background-color: var(--background-color);
    color: var(--text-color);
    font-weight: bold;
}
.banner .btn:hover {
    background-color: #f0f0f0;
}
html.dark-mode .banner .btn:hover {
    background-color: #444;
}

/* =============================== */
/* Sections et Contenu Principal   */
/* =============================== */
.container { max-width: 1200px; margin: 2rem auto; padding: 0 2rem; }
h2 { text-align: center; margin-bottom: 2rem; font-size: 2rem; color: var(--accent-color); }

/* =============================== */
/* Grille de produits et Cartes    */
/* =============================== */
.product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 2rem; }
.product-card { border: 1px solid var(--card-border-color); background-color: var(--card-bg-color); border-radius: 8px; overflow: hidden; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: all 0.3s; padding-bottom: 1rem; }
.product-card .product-link { text-decoration: none; color: inherit; }
.product-card:hover { transform: translateY(-5px); }
.product-card img { max-width: 100%; height: 250px; object-fit: cover; }
/* CORRECTION : Le titre utilise maintenant la variable de couleur du texte */
.product-card h3 { font-size: 1.2rem; margin: 1rem 0 0.5rem; color: var(--text-color); }
.product-price { color: var(--accent-color); font-weight: bold; font-size: 1.1rem; }
.product-actions { display: flex; justify-content: space-around; align-items: center; padding: 1rem; }

/* Styles des boutons */
.btn, .like-btn { display: inline-flex; align-items: center; justify-content: center; padding: 0.6rem 1.2rem; border-radius: 5px; font-family: var(--font-family); font-weight: 500; cursor: pointer; text-decoration: none; transition: all 0.2s ease; }
.btn { background-color: var(--secondary-color); color: var(--btn-main-text); border: none; }
.btn:hover { background-color: #555; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
.btn-secondary { background-color: transparent; color: var(--btn-secondary-text); border: 1px solid var(--input-border-color); }
.btn-secondary:hover { background-color: var(--card-border-color); }
.like-btn { background: none; border: 1px solid var(--input-border-color); color: var(--text-color); gap: 0.5rem; }
.like-btn.liked { color: red; border-color: red; }

/* =============================== */
/* Page de Détail Produit          */
/* =============================== */
.product-detail { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: start; }
.product-gallery { display: flex; flex-direction: column; gap: 1rem; }
.main-image img { width: 100%; border-radius: 8px; border: 1px solid var(--card-border-color); aspect-ratio: 1/1; object-fit: cover; }
.thumbnail-images { display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.5rem; }
.thumbnail-images img { width: 100%; border-radius: 4px; cursor: pointer; border: 2px solid transparent; transition: border-color 0.3s; aspect-ratio: 1/1; object-fit: cover; }
.thumbnail-images img.active, .thumbnail-images img:hover { border-color: var(--accent-color); }
.product-info h1 { font-size: 2.5rem; margin-top: 0; margin-bottom: 1rem; color: var(--text-color); }
.product-info .product-price { font-size: 1.8rem; font-weight: bold; color: var(--accent-color); margin-bottom: 2rem; }
.product-info .product-description { line-height: 1.6; margin-bottom: 2rem; }
.product-info .btn { padding: 0.8rem 1.5rem; font-size: 1.1rem; }

/* =============================== */
/* Filtres et Formulaires          */
/* =============================== */
.filters { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem; }
#search-input, #category-filter { padding: 0.7rem; border: 1px solid var(--input-border-color); background-color: var(--input-bg-color); color: var(--text-color); border-radius: 5px; }
#search-input { width: 250px; }
form { max-width: 600px; margin: 2rem auto; display: flex; flex-direction: column; gap: 1rem; }
form label { font-weight: 500; margin-bottom: -0.5rem; }
form input, form textarea { padding: 0.8rem; font-family: var(--font-family); border: 1px solid var(--input-border-color); background-color: var(--input-bg-color); color: var(--text-color); border-radius: 5px; }
form button { background-color: var(--accent-color); color: white; border: none; cursor: pointer; padding: 0.8rem; font-family: var(--font-family); border-radius: 5px; }

/* =============================== */
/* Page Panier                     */
/* =============================== */
.cart-items { width: 100%; border-collapse: collapse; }
.cart-items th, .cart-items td { padding: 1rem; text-align: left; border-bottom: 1px solid var(--card-border-color); }
.cart-total { text-align: right; margin-top: 2rem; font-size: 1.5rem; font-weight: bold; }
.cart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; }
.cart-header h2 { margin: 0; }

/* =============================== */
/* Style du Footer (Pied de page)  */
/* =============================== */
.footer { background-color: var(--header-bg-color); color: var(--header-text-color); padding: 1.5rem 2rem; margin-top: auto; font-size: 0.9rem; }
.footer-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; }
.footer-links { display: flex; align-items: center; flex-wrap: wrap; justify-content: center; gap: 0.75rem; }
.footer-separator { color: var(--accent-color); }
.footer a { color: var(--header-text-color); text-decoration: none; transition: text-decoration 0.3s; }
.footer a:hover { text-decoration: underline; }

/* =============================== */
/* Style du Bouton WhatsApp Flottant */
/* =============================== */
.whatsapp-float { position: fixed; width: 60px; height: 60px; bottom: 25px; right: 25px; background-color: #25D366; color: #FFF; border-radius: 50%; text-align: center; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2); z-index: 100; display: flex; align-items: center; justify-content: center; transition: transform 0.3s ease; }
.whatsapp-float:hover { transform: scale(1.1); }

/* ======================================================== */
/* Design Responsive (pour mobiles)                         */
/* ======================================================== */
@media (max-width: 768px) {
  header { padding: 0.75rem 1rem; flex-wrap: nowrap; }
  .logo { font-size: 1.2rem; }
  nav { margin: 0; }
  nav ul { gap: 0.75rem; }
  nav a { font-size: 0.9rem; }
  .header-right { gap: 0.75rem; }
  .theme-toggle-btn { padding: 0.4rem; }

  .product-grid { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem; }
  
  .container { padding: 0 1rem; }
  .filters { flex-direction: column; align-items: stretch; }
  #search-input { width: 100%; }
  .banner h1 { font-size: 2rem; }
  .product-detail { grid-template-columns: 1fr; }
  .footer-container { flex-direction: column; justify-content: center; text-align: center; gap: 1rem; }
}
